<html>
    <head>
        <!-- DISClAIMER: THIS FRAMEWORK IS SETUP TO WORK WITH BOOTSTRAP CSS v 5.0 OR HIGHER 
        FAILURE TO INCLUDE THE CSS IN YOUR TEMPLATES WILL RESULT IN POOR PERFORMANCE OF THE FRAMEWORK-->
        <script src="configuration.js"></script>
        <script src="UI.js"></script>
        <script src="queue.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <style>
            .offcanvas-resize{
                cursor:col-resize;
                border:2px solid lightgray;
                padding:4px;
                height:100%;
                width:100%;
            }
        </style>
    </head>
    <body>  
        <div class="container">
            <div class="row mt-4">
                <div class="col-sm-12 col-md-8 col-lg-6">
                    <!-- START Pane Manager Example -->
                    <h5 class="text-primary">Pane Manager Example</h5>
                    <div class="card">
                        <div class="card-header">
                            <div class="d-flex justify-content-between"> <!--Pane Triggers-->
                                <button type="button" class="btn btn-md btn-outline-secondary" id="show-pane-1">Pane 1</button>
                                <button type="button" class="btn btn-md btn-outline-secondary" id="show-pane-2">Pane 2</button>
                                <button type="button" class="btn btn-md btn-outline-secondary" id="show-pane-3">Pane 3</button>
                            </div>
                        </div>
                        <div class="card-body" id="pane-1"> <!--Pane 1 Body-->
                            <h3>Pane 1 here </h3>
                            <p>no managing of the visible panes needed here, once initialized this library handles visibility of the content in the panes you can have multiple triggers for 1 pane if you need as well</p>
                        </div>
                        <div class="card-body" id="pane-2"> <!--Pane 1 Body-->
                            <h3>Pane 2 here </h3>
                            <p>if you need to know which is visible its easy using this library. just check the paneManager.activePane property to get the active trigger and pane at that time on the page</p>
                        </div>
                        <div class="card-body" id="pane-3"> <!--Pane 1 Body-->
                            <h3>Pane 3 here</h3>
                            <p>You can put whatever you would like in these panes -- including another pane manager. Styling can be anything, for this example I'm using the card subset from bootstrap</p>
                        </div>
                    </div>
                </div>
                <!--END Pane Manager Example--------------------------------------->
                <div class="col-sm-12 col-md-6 col-lg-6">
                    <!-- START Off Canvas and Error Log Example ----------------------->
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <h5 class="text-primary">Off Canvas, Modal & Error Logs Example</h5>
                        <div class="card card-body">
                            <div class="d-flex justify-content-between">
                                <label for="offcanvas-example-trigger">Off Canvas and UI Error Log Visiblity</label>
                                <button class="btn btn-md btn-outline-secondary" id="offcanvas-example-trigger" data-bs-toggle='offcanvas' data-bs-target="#offcanvas-error-wrapper" type="button">CLICK ME!</button>
                            </div>
                        </div>
                    </div>
                    <!--END Off Canvas and Error Log Example--------------------------------------->

                    <!-- START Modal Example ----------------------->
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="card card-body">
                            <div class="d-flex justify-content-between">
                                <label for="modal-example-trigger">Modal Window trigger </label>
                                <button class="btn btn-md btn-outline-secondary" id="example-modal-trigger" data-bs-toggle='modal' data-bs-target="#example-modal-wrapper" type="button">CLICK ME!</button>
                            </div>
                        </div>
                    </div>
                    <!--END Modal Example--------------------------------------->
                </div>
            </div>
            <div class="row mt-4">
                <!-- START Form Manager Example ----------------------->
                <h5 class="text-primary">Form Handler Example</h5>
                <div class="col-sm-12 col-md-6 col-lg-6">
                    <div class="card card-body">
                        <form class="form" id="example-form">
                            <div class="mb-3">
                                <label for="example-input-1" class="form-label">Email address</label>
                                <input type="email" class="form-control" id="example-input-1" aria-describedby="emailHelp">
                                <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
                            </div>
                            <div class="mb-3">
                                <label for="example-input-2" class="form-label">Password</label>
                                <input type="password" class="form-control" id="example-input-2">
                            </div>
                            <div class="mb-3">
                                <label for="example-input-3" class="form-label">Hidden Input</label>
                                <input type="text" class="form-control" value="I'm hidden in by the manager" id="example-input-3">
                            </div>
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="example-checkbox-1">
                                <label class="form-check-label" for="example-checkbox-1">Check me out</label>
                            </div>
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="example-checkbox-2">
                                <label class="form-check-label" for="example-checkbox-2">Check me out, I'm disabled using the manager</label>
                            </div>
                            <div class="d-flex justify-content-between">
                                <button type="button" class="btn btn-primary" id="example-submit">Submit</button>
                                <button type="button" class="btn btn-warning" id="example-enable-disable">Enable/Disable additional Fields</button>
                            </div>

                        </form>
                    </div>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-6">
                    <div class="card card-body">
                        <h6>Form Output</h6>
                        <pre id="example-form-output"></pre>
                    </div>
                </div>
                <!--END Form Manager Example--------------------------------------->
            </div>
            <div class="row mt-4">
                <div class="col-sm-12 col-md-12 col-lg-12">
                    <!-- START Carousel Example ---------------------------------------->
                    <h5 class="text-primary">Carousel Example</h5>
                    <div id="example-carousel" class="carousel slide bg-light" >
                        <div class="carousel-indicators">
                          <button type="button" data-bs-target="#example-carousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                          <button type="button" data-bs-target="#example-carousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                          <button type="button" data-bs-target="#example-carousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                        </div>
                        <div class="carousel-inner">
                          <div class="carousel-item active">
                            <div class="d-block w-100 bg-dark" style="height:500px"></div>
                          </div>
                          <div class="carousel-item">
                            <div class="d-block w-100 bg-info" style="height:500px"></div>
                          </div>
                          <div class="carousel-item">
                            <div class="d-block w-100 bg-warning" style="height:500px"></div>
                          </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#example-carousel" data-bs-slide="prev">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#example-carousel" data-bs-slide="next">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                    <!-- END Carousel Example -------------------------------->
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-sm-12 col-md-6 col-lg-6">
                    <!-- START Thread Example ------------------------------------->
                    <h5 class="text-primary">Thread Example</h5>
                    <div class="card">
                        <div class="card-header">
                            <div class="d-flex justify-content-center">
                                <button type="button" id="example-start-threads" class="btn btn-md btn-primary">Start Threads</button>
                            </div>
                        </div>
                    </div>
                    <div class="card card-body">
                        <div class="d-flex justify-content-between mb-3">
                            <label>Add Thread</label>
                            <button type="button" id="example-add-thread" class="btn btn-sm btn-outline-info">Add Thread</button>
                        </div>
                        <div id="example-thread-body"></div>
                    </div>
                    <!-- END Thread Example ----------------------------------->
                </div>
                <div class="col-sm-12 col-md-6 col-lg-6">
                    <!-- START External Reference Example ------------------------------------->
                    <h5 class="text-primary">External Reference</h5>
                    <div class="card">
                        <div class="card-header">
                            <div class="d-flex justify-content-center">
                                <button type="button" id="example-external-reference" class="btn btn-md btn-secondary">Call External Reference</button>
                            </div>
                        </div>
                    </div>
                    <div class="card card-body">
                        <div id="example-external-reference-response">

                        </div>
                    </div>
                    <!-- END External Reference Example ----------------------------------->
                </div>
            </div>
        </div>
        
        
        <!-- START: Error Log ------------------------------>
        <div class="offcanvas offcanvas-end bg-light" tabindex="-1" id="offcanvas-error-wrapper" aria-labelledby="offcanvasExampleLabel">
            <div class="offcanvas-resize">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvas-error-label">Error Log</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" id="offcanvas-example-close"></button>
                </div>
                <div class="offcanvas-body" style="overflow-y:auto;height:90vh; cursor:default">
                    <div class="accordion" id="offcanvas-error-log"  >
                    </div>
                </div>
            </div>
        </div>
        <!-- END: Error Log --------------------------->
        
        <!-- START: Modal Example---------------------------->
        <div class="modal" tabindex="-1" id="example-modal-wrapper">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Modal title</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="example-modal-x"></button>
                </div>
                <div class="modal-body">
                  <p>Modal body text goes here.</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="example-modal-dismiss">Close</button>
                  <button type="button" class="btn btn-primary" id="example-modal-save">Save changes</button>
                </div>
              </div>
            </div>
          </div>
        <!-- END: Modal Example ---------------------------------------->


        <script id="example-Off-Canvas">
            let cWrapper = document.getElementById('offcanvas-error-wrapper');
            let cDismiss = document.getElementById('offcanvas-example-close');
            let cTrigger = document.getElementById('offcanvas-example-trigger');
            let offCanvas = new xOffCanvas(cWrapper, cDismiss, cTrigger);
        </script>
        
        <script id="example-Pane-Manager">
            let paneManager = new xHTMLPane_Manager();
            let pane1 = {
                'Trigger': new xHTMLPane_Trigger(document.getElementById('show-pane-1')),
                'Pane': new xHTMLPane(document.getElementById('pane-1'))
            }
            let pane2 = {
                'Trigger': new xHTMLPane_Trigger(document.getElementById('show-pane-2')),
                'Pane': new xHTMLPane(document.getElementById('pane-2'))
            }
            let pane3 = {
                'Trigger': new xHTMLPane_Trigger(document.getElementById('show-pane-3')),
                'Pane': new xHTMLPane(document.getElementById('pane-3'))
            }
            paneManager.setItem('pane-1', pane1);
            paneManager.setItem('pane-2', pane2);
            paneManager.setItem('pane-3', pane3);
            paneManager.activate('pane-1');
        </script>

        <script id="example-form-manager">
            let fWrapper = document.getElementById('example-form');
            let output = document.getElementById('example-form-output');
            let formManager = new xForm_Manager(fWrapper);
            let input1 = new xForm_Element(document.getElementById('example-input-1'));
            let input2 = new xForm_Element(document.getElementById('example-input-2'));
            let input3 = new xForm_Element(document.getElementById('example-input-3'));
            let checkbox1 = new xForm_Element(document.getElementById('example-checkbox-1'));
            let checkbox2 = new xForm_Element(document.getElementById('example-checkbox-2'));
            formManager.addElement('input-1', input1);
            formManager.addElement('input-2', input2);
            formManager.addElement('input-3', input3);
            formManager.addElement('checkbox-1', checkbox1);
            formManager.addElement('checkbox-2', checkbox2);
            formManager.getElement('checkbox-2').disabled = true;
            formManager.getElement('input-3').toggle(); //Hide Input
            formManager.getElement('input-3').element.parentNode.style.display = 'none'; //Hide Labels
            let submitEvent = new xEventListener(document.getElementById('example-submit'), 'click');
            submitEvent.eventAction = () =>{
                output.innerText = formManager.data;
            }
            submitEvent.setEvent();
            let toggleEvent = new xEventListener(document.getElementById('example-enable-disable'), 'click');
            toggleEvent.eventAction = ()=> {
                formManager.getElement('input-3').toggle();
                formManager.getElement('checkbox-2').disabled = (formManager.getElement('checkbox-2').disabled) ? false: true;
            }
            toggleEvent.setEvent();
        </script>
        
        <script id="example-modal">
            let mWrapper = document.getElementById('example-modal-wrapper');
            let mDismissX = document.getElementById('example-modal-x');
            let mDismissP = document.getElementById('example-modal-dismiss');
            let mSave = document.getElementById('example-modal-save');
            let mTrigger = document.getElementById('example-modal-trigger');
            let modal = new xModal(mWrapper, mDismissX, mTrigger);
            modal.addDismiss(mDismissP);
            modal.addDismiss(mSave);
        </script>

        <script id="example-carousel">
            let exWrapper = document.getElementById("example-carousel");
            let exCarousel = new xCarousel(exWrapper);
            let newSlide = document.createElement('h5');
            newSlide.innerText = "Hello World. I'm a dynamically added Slide";
            exCarousel.addSlide(newSlide, 'Dynamically Added');
        </script>

        <script id="example-thread">
            let threadHTMLBody = document.getElementById('example-thread-body');
            let threads = {};
            
            let addThreadEvent = new xEventListener(document.getElementById('example-add-thread'), 'click');
            addThreadEvent.eventAction = () =>{
                let id = new xUITools().id;
                let mThread = new xUIThread();
                threads[id] = mThread;
                let div = document.createElement('div');
                div.className = 'card';
                let newThreadHTML = '<div class=\"card-header\">' +
                                        '<div class=\"d-flex justify-content-between\">' +
                                            '<label class=\"thread-name\">Thread: ' + id +'</label>' +
                                            '<label class=\"queue-count\">0</label>' +
                                            '<button type=\"button\" class=\"btn btn-sm btn-outline-secondary example-add-to-thread\">Add to Thread</button>' +
                                        '</div>' +
                                        '</div>' +
                                    '<div class=\"card-body\">' +
                                        '<div class=\"thread-body\" style=\"max-height:200px; overflow-y:auto;\"">' +
                                        '</div>' +
                                    '</div>';
                div.innerHTML = newThreadHTML;
                threadHTMLBody.appendChild(div);
                
                let addToThreadEvent = new xEventListener(div.getElementsByClassName('example-add-to-thread')[0], 'click');
                addToThreadEvent.eventAction = () =>{
                    let func = () =>{
                        setTimeout(() => {
                            div.getElementsByClassName('thread-body')[0].innerHTML += 'Thread: ' + id + ' firing @ ' + new xUITools().seconds + '<br>';
                        }, 1000 * Math.random());
                    }
                    div.getElementsByClassName('queue-count')[0].innerText = parseInt(div.getElementsByClassName('queue-count')[0].innerText) + 1;
                    threads[id].add(func);
                }
                addToThreadEvent.setEvent();
            }
            addThreadEvent.setEvent();
            
            let startThreadsEvent = new xEventListener(document.getElementById('example-start-threads'), 'click');
            startThreadsEvent.eventAction = () => {
                console.log(threads);
                Object.keys(threads).forEach((key)=>{
                    threads[key].start();
                });
            }
            startThreadsEvent.setEvent();
            
        </script>
    </body>
</html>